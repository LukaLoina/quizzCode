<div class="form" [formGroup]="form">
  <div class="form__array" formArrayName="questions">
    <mat-label class="form__array__label">Questions</mat-label>
    <div
      class="form__array__questions"
      *ngFor="let question of getQuestions(form); let i = index"
    >
      <div class="form__array__questions__group" [formGroupName]="i">
        <div>
          <mat-form-field class="new-quiz__field" appearance="outline">
            <mat-label>Question {{ i }}</mat-label>
            <input
              matInput
              required
              type="text"
              formControlName="questionName"
            />
          </mat-form-field>
          <button
            mat-icon-button
            *ngIf="getQuestions(form).length > 1"
            (click)="removeQuestion(i)"
          >
            <mat-icon>delete</mat-icon>
          </button>
        </div>

        <div class="form__array__questions__group__answers">
          <mat-label>Answers</mat-label>
          <app-answers-input
            [question]="question"
            [i]="i"
            [form]="form"
          ></app-answers-input>
        </div>
        <mat-divider></mat-divider>
      </div>
    </div>
  </div>
  <button type="button" (click)="addQuestion()">+ Add another question</button>
</div>
